<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>ÄÄƒng kÃ½ tÃ i khoáº£n</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="styles/signin.css" />
</head>

<body>
    <header>
        <h1>Shop BÃ¡n Acc Blox Fruit Uy TÃ­n</h1>
        <p>Acc Blox Fruit giÃ¡ ráº», uy tÃ­n, há»— trá»£ 24/7</p>
    </header>
    <!-- CHATBOT -->
    <div class="chatbot" id="chatbotBox">
        <iframe src="https://www.chatbase.co/chatbot-iframe/s4FH-Fw4P9mC2P8-8kmh1" width="100%" height="100%"
            frameborder="0">
        </iframe>
    </div>
    
    <!-- TOGGLE BUTTON -->
    <button class="chat-toggle" onclick="toggleChat()">ğŸ’¬</button>

    <nav>
        <div class="nav-center">
            <a href="main.html">Trang chá»§</a>
            <a href="more-acc.html">Sáº£n pháº©m</a>
            <a href="#">HÆ°á»›ng dáº«n</a>
            <a href="#">LiÃªn há»‡</a>
            <button id="darkModeToggle" style="background: none; border: none; color: #fff; font-size: 20px; cursor: pointer;">ğŸŒ™</button>
        </div>
    </nav>

    <div class="container">
        <form class="signup-form" id="signupForm">
            <h2>ÄÄƒng kÃ½ tÃ i khoáº£n</h2>
            <div class="input-group">
                <input type="text" id="signupName" placeholder="TÃªn ngÆ°á»i dÃ¹ng" required>
                <i class="fa-solid fa-user"></i>
            </div>
            <div class="input-group">
                <input type="email" id="signupEmail" placeholder="Email" required>
                <i class="fa-solid fa-envelope"></i>
            </div>
            <div class="input-group">
                <input type="password" id="signupPassword" placeholder="Máº­t kháº©u (tá»‘i thiá»ƒu 6 chá»¯ sá»‘)" pattern="[0-9]{6,}" minlength="6" required>
                <i class="fa-solid fa-lock"></i>
            </div>
            <button type="submit">ÄÄƒng kÃ½</button>
            <div class="login-link">
                <p>ÄÃ£ cÃ³ tÃ i khoáº£n? <a href="login.html">ÄÄƒng nháº­p</a></p>
            </div>
        </form>
    </div>

    <script>
        document.getElementById("signupForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const name = document.getElementById("signupName").value;
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;

            // Get existing users from localStorage
            let users = JSON.parse(localStorage.getItem("users")) || [];

            // Check if username or email already exists
            const existingUser = users.find(user => user.name === name || user.email === email);
            if (existingUser) {
                if (existingUser.name === name) {
                    alert("TÃªn ngÆ°á»i dÃ¹ng Ä‘Ã£ tá»“n táº¡i! Vui lÃ²ng chá»n tÃªn khÃ¡c.");
                } else {
                    alert("Email Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng! Vui lÃ²ng sá»­ dá»¥ng email khÃ¡c.");
                }
                return;
            }

            // Add new user
            users.push({ name, email, password });
            localStorage.setItem("users", JSON.stringify(users));

            // Clear input fields for security
            document.getElementById("signupName").value = '';
            document.getElementById("signupEmail").value = '';
            document.getElementById("signupPassword").value = '';

            alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng! Vui lÃ²ng Ä‘Äƒng nháº­p.");
            window.location.href = "login.html";
        });
                function toggleChat() {
                    const chat = document.getElementById("chatbotBox");
                    chat.style.display = chat.style.display === "none" ? "block" : "none";
                }

                // Dark Mode Toggle
                const body = document.body;
                const darkModeToggle = document.getElementById('darkModeToggle');

                // Load dark mode preference from localStorage
                if (localStorage.getItem('darkMode') === 'enabled') {
                    body.classList.add('dark-mode');
                    darkModeToggle.textContent = 'â˜€ï¸';
                } else {
                    darkModeToggle.textContent = 'ğŸŒ™';
                }

                // Toggle dark mode
                darkModeToggle.addEventListener('click', () => {
                    body.classList.toggle('dark-mode');
                    if (body.classList.contains('dark-mode')) {
                        localStorage.setItem('darkMode', 'enabled');
                        darkModeToggle.textContent = 'â˜€ï¸';
                    } else {
                        localStorage.setItem('darkMode', 'disabled');
                        darkModeToggle.textContent = 'ğŸŒ™';
                    }
                });
    </script>
</body>

</html>
